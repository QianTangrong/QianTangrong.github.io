{"version":3,"sources":["assets/images/slide1.png","assets/images/slide2.png","assets/images/slide3.png","assets/images/slide4.png","scripts/views/guide/index.js","scripts/components/head/index.js","utils/history.js","utils/index.js","scripts/mobx/home.js","scripts/views/home/index.js","scripts/views/sort/index.js","scripts/views/cart/index.js","scripts/views/mine/index.js","scripts/components/foot/index.js","scripts/views/main/index.js","scripts/views/login/index.js","scripts/views/play/index.js","scripts/views/index.js","scripts/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Guide","gotoMain","props","history","push","state","imgs","require","localStorage","pcount","this","className","autoplay","infinite","dots","map","item","index","key","style","display","width","height","src","alt","onLoad","window","dispatchEvent","Event","length","onClick","Component","Head","goBack","go","title","show","background","marginBottom","mode","leftContent","onLeftClick","createHashHistory","observable","action","axios","get","then","res","bannerList","data","banners","songsList","result","mvList","singerList","artists","topList","list","mvTopList","SearchList","hots","arr","searchIdList","console","log","Homes","Home","observer","imgHeight","mv","getBannerList","getSongsList","getmvList","marginTop","val","i","href","imageUrl","name","columnNum","renderItem","padding","picUrl","color","fontSize","tabs","text","dot","Sort","getsingerList","gettopList","getmvTopList","initialPage","position","top","left","alignItems","justifyContent","minHeight","backgroundColor","marginLeft","textAlign","coverImgUrl","id","mvItem","p","cover","artistName","Cart","searchRes","SearchListShow","historyShow","historyLists","goSearch","setState","searchInp","value","songs","Array","getsearchIdList","historyWord","gotoSearch","clear","focusEve","historyList","split","reverse","splice","from","Set","historySearch","historyDel","reg","RegExp","replace","getSearchList","location","match","onFocus","onBlur","onblurEve","placeholder","maxLength","onSubmit","ref","el","onCancel","borderBottom","margin","historyValue","historyKey","right","first","minWidth","float","borderRadius","Link","to","album","Item","Mine","Brief","goLogin","LoginOut","code","sessionStorage","mobile","reload","success","renderHeader","extra","foots","txt","path","icon","Foot","foot","NavLink","activeClassName","hot","Main","Switch","Route","exact","render","Redirect","component","mobileReg","codeReg","Login","checkMobile","toggle","mobileFlag","test","loginFlag","todoLogin","url","fetch","status","ok","sendCode","computedTime","count","timer","setInterval","clearInterval","checkCode","type","onChange","disabled","size","inline","Search","songsDetail","lrc","volume","allTime","currentTime","playIdindex","NaN","getLrcTime","lrcTime","substr","lrcTimeMin","parseInt","lrcTimeSec","parseFloat","controlAudio","audio","document","getElementById","duration","isPlay","pause","info","setTimeout","al","playNext","playBefore","addLike","URLSearchParams","search","idIndex","indexOf","myaudio","paused","play","onCanPlay","onTimeUpdate","e","onPlay","onPause","onEnded","onVolumeChange","autoPlay","controls","Layout","childContextTypes","PropTypes","object","MainRouter","HashRouter","basename","App","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.79570a63.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/slide1.5bea97f1.png\";","module.exports = __webpack_public_path__ + \"static/media/slide2.2424d71b.png\";","module.exports = __webpack_public_path__ + \"static/media/slide3.2bd658bd.png\";","module.exports = __webpack_public_path__ + \"static/media/slide4.42065214.png\";","\r\n\r\nimport React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport { Carousel, Button } from \"antd-mobile\"\r\n\r\nexport class Guide extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            imgs: [\r\n                require(\"../../../assets/images/slide1.png\"),\r\n                require(\"../../../assets/images/slide2.png\"),\r\n                require(\"../../../assets/images/slide3.png\"),\r\n                require(\"../../../assets/images/slide4.png\"),\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(localStorage.pcount){\r\n            localStorage.pcount++;\r\n            if(localStorage.pcount>3){\r\n                this.props.history.push(\"/main/\");   // 重定向  三次之后自动跳 main\r\n            }\r\n        }else{\r\n            localStorage.pcount = 1;\r\n        }\r\n    }\r\n    \r\n    gotoMain=()=>{\r\n        const{\r\n            history\r\n        }=this.props;\r\n        history.push(\"/main\")\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"guide\">\r\n                <Carousel\r\n                    autoplay={false}\r\n                    infinite\r\n                    dots={false}\r\n                    // beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                    // afterChange={index => console.log('slide to', index)}\r\n                >\r\n                    {\r\n                        this.state.imgs.map((item, index) => {\r\n                            return (\r\n                                <a\r\n                                    key={index}\r\n                                    style={{ display: 'inline-block', width: '100%', height: \"100vh\" }}\r\n                                >\r\n                                    <img src={item} alt=\"\"\r\n                                        style={{ width: '100%', height: \"100vh\" }}\r\n                                        onLoad={() => {\r\n                                            window.dispatchEvent(new Event('resize'));\r\n\r\n                                        }}\r\n                                    />\r\n                                    {index == this.state.imgs.length - 1 && <button className=\"g-btn\" onClick={this.gotoMain}> 点击进入主页 </button>}\r\n                                </a>\r\n                            )\r\n                        })\r\n                    }\r\n                </Carousel>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import \"./index.scss\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport { NavBar,Icon } from \"antd-mobile\"\r\n\r\n\r\nexport class Head extends Component {\r\n    goBack=()=>{\r\n        history.go(-1);\r\n    }\r\n    render() {\r\n        const{\r\n            title,\r\n            show\r\n        }=this.props\r\n        return (\r\n            <div className=\"head\">\r\n                <NavBar\r\n                    style={{background:\"#f30\",marginBottom:'40px'}}\r\n                    mode=\"dark\"\r\n                    leftContent={show?\"返回\":''}\r\n                    onLeftClick={() => this.goBack()}\r\n                >{title}</NavBar>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport {createHashHistory} from \"history\";\r\n\r\nexport const  history = new createHashHistory();","\r\n\r\n\r\n// 一个模块暴露多个接口 \r\n\r\nexport {axios} from \"./axios\"\r\n\r\nconst url = require(\"url\"); // Node 自带\r\n\r\nexport function getQuery(search){\r\n    return url.parse(search,true).query;\r\n}\r\n\r\n\r\n\r\nexport {history} from \"./history\"","import {observable,action,computed} from \"mobx\"\r\nimport {axios} from \"~\";\r\n\r\nclass Homes{\r\n    @observable bannerList=[];\r\n    @observable songsList=[];\r\n    @observable mvList=[];\r\n    @observable singerList=[];\r\n    @observable singerList=[];\r\n    @observable topList=[];\r\n    @observable mvTopList=[];\r\n    @observable SearchList=[];\r\n    @observable searchIdList=[];\r\n\r\n\r\n\r\n\r\n\r\n//获取banner横幅\r\n    @action getBannerList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/banner\").then(res=>{\r\n            this.bannerList = res.data.banners;\r\n        })\r\n    }\r\n\r\n// 获取热门歌单\r\n    @action getSongsList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/personalized?limit=6\").then(res=>{\r\n            this.songsList = res.data.result;\r\n           \r\n        })\r\n    }\r\n\r\n//获取热门mv\r\n    @action getmvList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/personalized/mv\").then(res=>{\r\n            this.mvList = res.data.result;\r\n\r\n        })\r\n    }\r\n\r\n//获取流行歌手\r\n    @action getsingerList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/top/artists?offset=0&limit=30\").then(res=>{\r\n            this.singerList = res.data.artists;\r\n\r\n        })\r\n    }\r\n\r\n//获取种类排行榜\r\n    @action gettopList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/toplist\").then(res=>{\r\n            this.topList = res.data.list;\r\n\r\n        })\r\n    }\r\n\r\n//获取mv排行榜\r\n    @action getmvTopList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/top/mv?limit=20\").then(res=>{\r\n            this.mvTopList = res.data.data;\r\n\r\n        })\r\n    }\r\n\r\n\r\n//获取热搜关键词\r\n    @action getSearchList =()=>{\r\n        axios.get(\"http://47.101.151.137:3000/search/hot\").then(res=>{\r\n            this.SearchList = res.data.result.hots;\r\n        })\r\n    }\r\n\r\n    \r\n//获取搜索\r\n    @action getsearchIdList=(arr)=>{\r\n        // console.log(this.searchIdList)\r\n        // console.log(typeof(this.searchIdList.Target))\r\n        this.searchIdList =arr;\r\n    }\r\n\r\n    // @action getSearchIDList =()=>{\r\n    //     axios.get(\"http://47.101.151.137:3000/search/hot\").then(res=>{\r\n    //         this.SearchList = res.data.result.hots;\r\n    //     })\r\n    // }\r\n\r\n}\r\n\r\n\r\nexport default new Homes();","\r\n\r\nimport React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport { Head } from \"../../components/head\"\r\nimport { axios, history } from \"~\"\r\nimport { WingBlank, Carousel,Grid } from \"antd-mobile\"\r\nimport { observer } from \"mobx-react\"\r\nimport Homes from \"&/mobx/home\";\r\nconsole.log(Homes)\r\n@observer\r\nclass Home extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            bannerList: [],\r\n            imgHeight: '100px',\r\n            mv: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!Homes.bannerList.length > 0) {\r\n            Homes.getBannerList();\r\n        }\r\n        if (!Homes.songsList.length > 0) {\r\n            Homes.getSongsList();\r\n        }\r\n        if (!Homes.mvList.length > 0) {\r\n            Homes.getmvList();\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            bannerList,\r\n            imgHeight,\r\n            songsList,\r\n            mvList\r\n        } = Homes;\r\n        return (\r\n            <div className=\"home\" style={{marginBottom:'40px'}}>\r\n                <Head title=\"首页\"></Head>\r\n                <Carousel\r\n                    autoplay={true}\r\n                    dots={true}\r\n                    infinite\r\n                    style={{ marginTop: \"45px\" }}\r\n                >\r\n                    {\r\n                        bannerList.map((val, i) => {\r\n                            return (\r\n                                <a key={i} href=\"\"\r\n                                    style={{ display: 'inline-block', width: '100%', height: '300' }}\r\n                                >\r\n                                    <img\r\n                                        src={val.imageUrl}\r\n                                        alt=\"\"\r\n                                        title={val.name}\r\n                                        style={{ width: '100%', height: '300' }}\r\n                                        onLoad={() => {\r\n                                            window.dispatchEvent(new Event('resize'));\r\n                                        }}\r\n                                    />\r\n\r\n                                </a>\r\n                            )\r\n                        })\r\n                    }\r\n                </Carousel>\r\n                <h3>推荐歌单</h3>\r\n                <Grid data={songsList}\r\n                    columnNum={3}\r\n                    renderItem={songsList => (\r\n                        <div style={{ padding: '12.5px' }}>\r\n                            <img src={songsList.picUrl} style={{ width: '90px', height: '95px' }} alt=\"\" />\r\n                            <div style={{ color: '#888', fontSize: '14px', marginTop: '12px' }}>\r\n                                <span>{songsList.name}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                />\r\n                <h3>推荐mv</h3>\r\n                <Grid data={mvList}\r\n                    columnNum={2}\r\n                    renderItem={mvList => (\r\n                        <div style={{  }}>\r\n                            <img src={mvList.picUrl} style={{ width: '180px', height: '100px' }} alt=\"\" />\r\n                            <div style={{ color: '#888', fontSize: '14px', marginTop: '12px' }}>\r\n                                <span>{mvList.name}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home","\r\n\r\nimport React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport { Head } from \"../../components/head\"\r\nimport { Tabs, Badge } from \"antd-mobile\"\r\nimport { observer } from \"mobx-react\"\r\nimport Homes from \"&/mobx/home\";\r\n\r\nconst tabs = [\r\n    { title: <Badge text={'3'}>歌手</Badge> },\r\n    { title: <Badge text={'今日(20)'}>排行榜</Badge> },\r\n    { title: <Badge dot>MV排行</Badge> },\r\n];\r\n@observer\r\nclass Sort extends Component {\r\n    componentDidMount() {\r\n        if (!Homes.singerList.length > 0) {\r\n            Homes.getsingerList();\r\n        }\r\n        if (!Homes.topList.length > 0) {\r\n            Homes.gettopList();\r\n        }\r\n        if (!Homes.mvTopList.length > 0) {\r\n            Homes.getmvTopList();\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            singerList,\r\n            topList,\r\n            mvTopList\r\n        } = Homes\r\n        return (\r\n            <div className=\"sort\" style={{ marginBottom: '50px' }}>\r\n                {/* <Head title=\"分类\"></Head> */}\r\n                <Tabs tabs={tabs}\r\n                    initialPage={1}\r\n                    // onChange={(tab, index) => { console.log('onChange', index, tab); }}\r\n                    // onTabClick={(tab, index) => { console.log('onTabClick', index, tab); }}\r\n                    style={{ marginTop: '100px',position:'fixed' ,top:'0',left:'0'}}\r\n                >\r\n                    <div style={{ alignItems: 'center', justifyContent: 'center', minHeight: '150px', backgroundColor: '#fff' }}>\r\n                        {\r\n                            singerList.map((item, i) => {\r\n                                return (\r\n                                    <div style={{ width: '100%', height: '100px', backgroundColor: '#f7f7f7', marginBottom: '10px', display: 'flex' }} key={i}>\r\n                                        <img src={item.picUrl} alt=\"\" style={{ width: '100px', height: '100px' }} />\r\n                                        <p style={{ fontSize: '30px', marginLeft: '10px' }}>{item.name}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div style={{ alignItems: 'center', justifyContent: 'center', minHeight: '150px', backgroundColor: '#fff' }}>\r\n                        {\r\n                            topList.map((top, index) => {\r\n                                return (\r\n                                    <div style={{ textAlign: 'center' }} key={index}>\r\n                                        <img src={top.coverImgUrl} alt=\"\" style={{ width: \"98%\", height: '200px' }} key={top.id} />\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div style={{ alignItems: 'center', justifyContent: 'center', minHeight: '150px', backgroundColor: '#fff' }}>\r\n                        {\r\n                            mvTopList.map((mvItem, p) => {\r\n                                return (\r\n                                    <div style={{ width: '100%', height: '100px', backgroundColor: '#f7f7f7', marginBottom: '10px', display: 'flex' }} key={p}>\r\n                                        <img src={mvItem.cover} alt=\"\" style={{ width: '100px', height: '100px' }} />\r\n                                        <div>\r\n                                            <p style={{ fontSize: '25px', marginLeft: '10px' }}>{mvItem.name}</p>\r\n                                            <p style={{ marginLeft: '10px' }}>{mvItem.artistName}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Sort","\r\n\r\nimport React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport \"./index.scss\"\r\nimport { Head } from \"../../components/head\"\r\nimport { SearchBar, WhiteSpace } from \"antd-mobile\"\r\nimport { observer } from \"mobx-react\"\r\nimport Homes from \"&/mobx/home\";\r\nimport { hidden } from \"_ansi-colors@3.2.4@ansi-colors\"\r\nimport { axios, history } from \"~\";\r\n\r\n@observer\r\nclass Cart extends Component {\r\n\r\n    state = {\r\n        searchRes: [],\r\n        SearchListShow: true,\r\n        historyShow: false,\r\n        historyLists: []\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        if (!Homes.SearchList.length > 0) {\r\n            Homes.getSearchList();\r\n        }\r\n        if (localStorage.historyWord) {\r\n            var historyList = localStorage.historyWord.split(\"%\").reverse();\r\n            historyList.splice(0,1);\r\n            historyList = Array.from(new Set(historyList));\r\n            this.setState({\r\n                historyLists: historyList,\r\n            })\r\n        }\r\n    }\r\n    goSearch = () => {\r\n        this.setState({\r\n            historyShow:false\r\n        })\r\n        if(this.searchInp.state.value){\r\n            axios.get(`http://47.101.151.137:3000/search?keywords=${this.searchInp.state.value}&limit=40`).then(res => {\r\n                console.log(res.data.result.songs)\r\n                var result = res.data.result.songs\r\n                var arr = new Array();\r\n                for(var i = 0;i<result.length;i++){\r\n                    var item = result[i].id;\r\n                    arr.push(item)\r\n                }\r\n                Homes.getsearchIdList(arr)\r\n                    this.setState({\r\n                        searchRes: res.data.result.songs,\r\n                        SearchListShow: false,\r\n                        historyShow:false\r\n                    })\r\n                   \r\n    \r\n    \r\n                \r\n            })\r\n        }else{\r\n            this.setState({\r\n                historyShow:false,\r\n                SearchListShow: true,\r\n            })\r\n        }\r\n        // console.log(this.searchInp.state.value)\r\n        if (localStorage.historyWord) {\r\n            if (this.searchInp.state.value) {\r\n                localStorage.historyWord += this.searchInp.state.value + '%'\r\n            }\r\n        } else {\r\n            if (this.searchInp.state.value) {\r\n                localStorage.historyWord = this.searchInp.state.value + '%'\r\n            }\r\n        }\r\n \r\n\r\n    }\r\n    gotoSearch = (item) => {\r\n        // console.log(item)\r\n        this.searchInp.state.value = item;\r\n        if (localStorage.historyWord) {\r\n            if (item) {\r\n                localStorage.historyWord += item + '%'\r\n            }\r\n        } else {\r\n            if (item) {\r\n                localStorage.historyWord = item + '%'\r\n            }\r\n        }\r\n        axios.get(`http://47.101.151.137:3000/search?keywords=${item}&limit=40`).then(res => {\r\n            // console.log(res.data.result.songs)\r\n            if (res.data.result.songs) {\r\n                var result = res.data.result.songs\r\n                var arr = new Array();\r\n                for(var i = 0;i<result.length;i++){\r\n                    var item = result[i].id;\r\n                    arr.push(item)\r\n                }\r\n                Homes.getsearchIdList(arr)\r\n                this.setState({\r\n                    searchRes: res.data.result.songs,\r\n                    SearchListShow: false,\r\n                    historyShow:false\r\n                })\r\n\r\n\r\n            }\r\n        })\r\n    }\r\n    clear = () => {\r\n        this.searchInp.state.value = '';\r\n        this.setState({\r\n            searchRes: [],\r\n            SearchListShow: true,\r\n            historyShow:false\r\n        })\r\n    }\r\n\r\n    focusEve = () => {\r\n        if(localStorage.historyWord){\r\n            var historyList = localStorage.historyWord.split(\"%\").reverse();\r\n            historyList.splice(0,1);\r\n            historyList = Array.from(new Set(historyList));\r\n            this.setState({\r\n                historyLists: historyList,\r\n            })\r\n\r\n        }\r\n        this.setState({\r\n            SearchListShow: false,\r\n            historyShow:true\r\n        })\r\n        // console.log(this.state)\r\n    }\r\n    historySearch=(value)=>{\r\n        // console.log(value)\r\n        axios.get(`http://47.101.151.137:3000/search?keywords=${value}&limit=40`).then(res => {\r\n            // console.log(res.data.result.songs)\r\n            if (res.data.result.songs) {\r\n                var result = res.data.result.songs\r\n                var arr = new Array();\r\n                for(var i = 0;i<result.length;i++){\r\n                    var item = result[i].id;\r\n                    arr.push(item)\r\n                }\r\n                Homes.getsearchIdList(arr)\r\n                this.setState({\r\n                    searchRes: res.data.result.songs,\r\n                    SearchListShow: false,\r\n                    historyShow:false\r\n                })\r\n                // console.log(this.state.searchRes)\r\n            }\r\n        })\r\n\r\n    }\r\n    historyDel=(i,value)=>{\r\n        // console.log(i)\r\n        var historyList = localStorage.historyWord;\r\n        var reg = new RegExp(value+'%', \"gi\");\r\n        localStorage.historyWord = historyList.replace(reg,\"\")\r\n        // console.log(localStorage.historyWord)\r\n        historyList = localStorage.historyWord.split(\"%\").reverse();\r\n        historyList.splice(0,1);\r\n        historyList = Array.from(new Set(historyList));\r\n        this.setState({\r\n            historyLists: historyList,\r\n        })\r\n        // console.log(this.state.historyLists);\r\n\r\n    }\r\n    onblurEve(){\r\n        this.setState({\r\n            SearchListShow: true,\r\n            // historyShow:false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            searchRes,\r\n            SearchListShow,\r\n            historyShow,\r\n            historyLists\r\n        } = this.state\r\n\r\n        const {\r\n            history,\r\n            location,\r\n            match,\r\n        } = this.props;\r\n        const {\r\n            SearchList\r\n        } = Homes\r\n        return (\r\n            <div className=\"cart\">\r\n                <Head title=\"搜索\" ></Head>\r\n                <div style={{ marginTop: '50px' }}>\r\n                    <SearchBar\r\n                        onFocus={() => this.focusEve()}\r\n                        onBlur={()=>this.onblurEve()}\r\n                        placeholder=\"Search\" maxLength={8} onSubmit={() => this.goSearch()} ref={el => this.searchInp = el} onCancel={() => this.clear()} />\r\n                    <WhiteSpace />\r\n                    {\r\n                        historyShow && historyLists.map((value, i) => {\r\n                            return (\r\n                                <p key={i} style={{position:'relative' ,display:'flex',padding:'10px 20px',color:\"#aaa\",borderBottom:'1px solid #E6E6E6',background:'#fff',width:'90%',margin:'0 auto'}}>\r\n                                    <span onClick={()=>this.historySearch(value)} ref={el=>this.historyValue=el} style={{display:'block',width:'80%'}}>{value}</span> \r\n                                    <span  onClick={()=>this.historyDel(i,value)} ref={el=>this.historyKey=el} style={{position:'absolute',right:'20px',top:'5px',display:'block',width:'5%'}}>X</span>\r\n                                </p>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                {\r\n                    SearchListShow && <div style={{}}>\r\n                        {\r\n                            SearchList.map((item, i) => {\r\n                                return (\r\n                                    <span\r\n                                        onClick={() => this.gotoSearch(item.first)}\r\n                                        key={i}\r\n                                        ref={el => this.key = el}\r\n                                        style={{ display: 'block', height: \"15px\", backgroundColor: 'white', padding: '10px', minWidth: '20px', float: 'left', borderRadius: '8px', margin: '5px' }}>\r\n                                        {item.first}\r\n                                    </span>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n                {\r\n                    !SearchListShow && <div>\r\n                        {\r\n                            searchRes.map((item, i) => {\r\n                                return (\r\n                                    <Link to={\"/play/?id=\" + item.id} key={item.id}>\r\n                                        <div style={{ display: 'flex', width: '100%', marginTop: '5px', background: 'white' }} key={item.id}>\r\n                                            <div style={{ padding: '10px', width: '70%' }}>\r\n                                                <p style={{ color: '#09C7F7', marginBottom: '5px' }}>{item.name}</p>\r\n                                                <p style={{ color: '#BBBBBB', fontSize: '12px' }}><span>{item.artists[0].name} </span><span> {item.album.name}</span></p>\r\n                                            </div>\r\n                                            <div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Cart","\r\n\r\nimport React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport { Head } from \"../../components/head\"\r\nimport {List,Toast} from \"antd-mobile\"\r\nimport { axios, history } from \"~\"\r\n\r\nconst Item = List.Item;\r\nconst Brief = Item.Brief;\r\n\r\nexport class Mine extends Component {\r\n    componentDidMount(){\r\n        // axios.get(\"http://47.101.151.137:3000/user/subcount\").then(res=>{\r\n        //     console.log(res.data);\r\n        // })\r\n    }\r\n    goLogin=()=>{\r\n        const{\r\n            history\r\n        }=this.props;\r\n        history.push(\"/login\")\r\n    }\r\n    LoginOut=()=>{\r\n       axios.get(\"http://47.101.151.137:3000/logout\").then(res=>{\r\n           console.log(res.data)\r\n           if(res.data.code==200){\r\n               sessionStorage.mobile=\"\";\r\n               location.reload();\r\n           }else{\r\n            Toast.success('ERROR', 1);\r\n           }\r\n       })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"mine\">\r\n                <Head title=\"我的\"></Head>\r\n                <List renderHeader={() => 'Basic Style'} className=\"my-list\">\r\n                   {\r\n                       !sessionStorage.mobile&&<Item extra={'点击登录'} onClick={this.goLogin}>登录</Item>\r\n                   } \r\n                    <Item extra={'本地音乐'} >本地音乐</Item>\r\n                    <Item extra={'最近播放'} >最近播放</Item>\r\n                    <Item extra={'下载管理'} >下载管理</Item>\r\n                    <Item extra={'我的电台'} >我的电台</Item>\r\n                    <Item extra={'我的喜欢'} >我的喜欢</Item>\r\n                    {\r\n                        sessionStorage.mobile&&<Item extra={'退出登录'} onClick={this.LoginOut}>退出登录</Item>\r\n                    }\r\n                </List>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport { Badge } from \"antd-mobile\"\r\n\r\nexport const foots = [\r\n    { txt: \"首页\", path: \"/main/home\", name: \"home\", icon: \"icon-home\" },\r\n    { txt: \"分类\", path: \"/main/sort\", name: \"sort\", icon: \"icon-goodsfill\" },\r\n    { txt: \"搜索\", path: \"/main/cart\", name: \"cart\", icon: \"icon-search\" },\r\n    { txt: \"我\", path: \"/main/mine\", name: \"mine\", icon: \"icon-minefill\" }\r\n]\r\n\r\n\r\n\r\nexport class Foot extends Component {\r\n    state = {\r\n        foots\r\n    }\r\n    render() {\r\n        return (\r\n            <footer>\r\n                {\r\n                    this.state.foots.map((foot, i) => {\r\n                        return (\r\n                            <div key={i}>\r\n                                <NavLink\r\n                                    to={foot.path}\r\n                                    activeClassName=\"nav-active\"\r\n                                >\r\n                                    <i className={\"iconfont \" + foot.icon} ></i>\r\n                                    <span> {foot.txt}</span>\r\n                                    {i == 2 && <Badge text=\"\" className=\"hot\" hot style={{ marginLeft: 5 }} />}\r\n                                </NavLink>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </footer>\r\n        )\r\n    }\r\n}","\r\n\r\nimport React ,{Component} from \"react\"\r\n\r\nimport \"./index.scss\"\r\nimport {Switch,Route,Redirect} from \"react-router-dom\"\r\nimport Home from \"../home\"\r\nimport Sort from \"../sort\"\r\nimport Cart from \"../cart\"\r\nimport {Mine} from \"../mine\"\r\n\r\nimport {Foot} from \"../../components/foot\"\r\n\r\nexport class Main extends Component{\r\n    render(){\r\n        return(\r\n            <div className=\"main\" style={{width:\"100vw\",height:\"100vh\"}}>\r\n               <Switch>\r\n                   <Route path=\"/main/\" exact render={()=>(<Redirect to=\"/main/home\" />)}/>\r\n                   <Route path=\"/main/home\" component={Home}/>\r\n                   <Route path=\"/main/sort\" component={Sort}/>\r\n                   <Route path=\"/main/cart\" component={Cart}/>\r\n                   <Route path=\"/main/mine\" component={Mine}/>\r\n                   <Route render={()=>(<Redirect to=\"/main/home\" />)}/>\r\n               </Switch>\r\n               <Foot/>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\n\r\nimport React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport {WhiteSpace,WingBlank,List,InputItem,Button,Toast} from \"antd-mobile\";\r\nimport { Head } from \"../../components/head\";\r\nimport {axios,history} from \"~\"\r\n\r\nexport const mobileReg = /^1(3|5|7|8|9)\\d{9}$/;\r\nexport const codeReg = /^\\d{4}$/\r\n\r\nvar timer = null;\r\n\r\n\r\nexport class Login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            count:60,\r\n            txt:\"发送验证码\",\r\n            mobileFlag:false,\r\n            loginFlag:false,\r\n            toggle:true,\r\n        }\r\n    }\r\n\r\n\r\n    checkMobile=(mobile)=>{\r\n        // console.log(mobile);\r\n        if(this.state.toggle){\r\n            this.setState({\r\n                mobileFlag:mobileReg.test(mobile),\r\n                loginFlag:(codeReg.test(this.code.state.value)&&mobileReg.test(mobile))\r\n            })\r\n        }\r\n    }\r\n\r\n    // 校验验证码 \r\n    todoLogin=()=>{\r\n\r\n        const url=`http://47.101.151.137:3000/captcha/verify?phone=${this.mobile.state.value}&captcha=${this.code.state.value}`\r\n        fetch(url).then(function(res) {\r\n            // do what you want\r\n            console.log(res.data)\r\n            if(res.status==200&&res.ok){\r\n                Toast.success('登录成功', 1);\r\n                sessionStorage.mobile = res.url\r\n                history.push(\"/main/mine\");\r\n            }else{\r\n                Toast.success('验证码无效', 1);\r\n                sessionStorage.mobile = ''\r\n            }\r\n          })\r\n        // axios.post(\"http://47.101.151.137:3000/captcha/sent?phone=${this.mobile.state.value}\",{\r\n        //     phone:this.mobile.state.value,\r\n        //     captcha:this.code.state.value\r\n        // }).then(res=>{\r\n        //     if(!!res.data.type){\r\n        //         sessionStorage.token = res.data.token; \r\n        //         sessionStorage.mobile = this.mobile.state.value\r\n        //         history.push(\"/main/mine\");\r\n        //     }else{\r\n        //         sessionStorage.token = \"\";\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    // 发送验证码 \r\n    sendCode=()=>{\r\n        const url=`http://47.101.151.137:3000/captcha/sent?phone=${this.mobile.state.value}`\r\n        fetch(url).then(function(res) {\r\n            // do what you want\r\n            // console.log(res)\r\n            if(res.status==200&&res.ok){\r\n                Toast.success('验证码发送成功', 1);\r\n            }\r\n          })\r\n        this.computedTime();\r\n        // ajax; \r\n       \r\n    }\r\n\r\n    computedTime=()=>{\r\n        this.setState({\r\n            count:--this.state.count,\r\n            txt:`倒计时 ${this.state.count} S`,\r\n            mobileFlag:false,  \r\n        });\r\n\r\n        var timer = setInterval(()=>{\r\n            if(this.state.count>0){\r\n                this.setState({\r\n                    count:--this.state.count,\r\n                    txt:`倒计时 ${this.state.count} S`,\r\n                    mobileFlag:false, \r\n                    toggle:false, \r\n                })\r\n               \r\n            }else{\r\n                clearInterval(timer);\r\n                this.setState({\r\n                    count:60,\r\n                    txt:`发送验证码`,\r\n                    mobileFlag:true,  \r\n                    toggle:true\r\n                })\r\n                \r\n            }\r\n        },1000)\r\n    }\r\n\r\n    checkCode=(code)=>{\r\n        // console.log(this.mobile);\r\n        this.setState({\r\n            loginFlag:(codeReg.test(code)&&mobileReg.test(this.mobile.state.value))\r\n        })\r\n    }\r\n    render() {\r\n        const {\r\n            txt,\r\n            mobileFlag,\r\n            loginFlag\r\n        } = this.state;\r\n       \r\n        return (\r\n            <div>\r\n                <Head title=\"登录\" show=\"true\"></Head>\r\n                <WhiteSpace/>\r\n                <WingBlank>\r\n                    <List style={{marginTop:\"50px\"}}>\r\n                    <WhiteSpace/>\r\n                    <InputItem\r\n                        \r\n                        type=\"tel\"\r\n                        placeholder=\"请输入手机号\"\r\n                        clear\r\n                        ref={el=>this.mobile=el}\r\n                        onChange={this.checkMobile}\r\n                    >手机号</InputItem>\r\n                     <WhiteSpace/>\r\n                    <InputItem\r\n                        type=\"number\"\r\n                        placeholder=\"请输入验证码\"\r\n                        clear\r\n                        ref={el=>this.code=el}\r\n                        onChange={this.checkCode}\r\n                    >验证码</InputItem>\r\n                    <Button onClick={this.sendCode} disabled={!mobileFlag} type=\"warning\" className=\"l-btn\" size=\"large\" inline >{txt}</Button>\r\n                    <WhiteSpace/>\r\n                    </List>\r\n                    <WhiteSpace/>\r\n                    <Button type=\"primary\" onClick={this.todoLogin} disabled={!loginFlag} >登录</Button>\r\n                </WingBlank>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport \"./index.scss\"\r\nimport { Head } from \"../../components/head\"\r\nimport { WhiteSpace, Toast } from \"antd-mobile\"\r\nimport { axios, history } from \"~\";\r\nimport ReactPlayer from 'react-player'\r\nimport Homes from \"&/mobx/home\";\r\n\r\n\r\n// console.log(this.props.location.query.day)\r\n\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        songsDetail: {},\r\n        url: '',\r\n        picUrl: '',\r\n        lrc: [],\r\n        // isPlay: false,\r\n        // isMuted: false,\r\n        volume: 100,\r\n        allTime: 0,\r\n        currentTime: 0,\r\n        playIdindex: NaN\r\n    }\r\n    // lrcs = this.state.lrc\r\n    componentDidMount() {\r\n        const id = new URLSearchParams(this.props.location.search).get('id');\r\n\r\n        // console.log(typeof(id));\r\n        // console.log(typeof(Homes.searchIdList[0]));\r\n\r\n        // console.log(Homes.searchIdList.indexOf(parseInt(id)));\r\n        var idIndex = Homes.searchIdList.indexOf(parseInt(id))\r\n\r\n\r\n\r\n        axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n            // console.log(res.data.songs[0]);\r\n            if (res.data.songs[0]) {\r\n                this.setState({\r\n                    songsDetail: res.data.songs[0],\r\n                    picUrl: res.data.songs[0].al.picUrl,\r\n                    playIdindex: idIndex\r\n                })\r\n                // console.log(this.state.songsDetail)\r\n                //  console.log(idIndex)\r\n                //  console.log(this.state.playIdindex)\r\n\r\n\r\n            }\r\n        })\r\n\r\n        axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n            this.setState({\r\n                url: res.data.data[0].url,\r\n            })\r\n            // console.log(this.state.url)\r\n        })\r\n\r\n        //获取歌词\r\n        // axios.get(`http://47.101.151.137:3000/lyric?id=${id}`).then(res => {\r\n        //     this.setState({\r\n        //         lrc: res.data.lrc.lyric.split(\"\\n\"),\r\n        //     })\r\n        //     // console.log(this.state.lrc)\r\n        //     // console.log(typeof (this.state.lrc));\r\n        // })\r\n\r\n\r\n    }\r\n    toggle() {\r\n        var myaudio = document.getElementById('myaudio');\r\n        // console.log(myaudio);\r\n        myaudio.paused ? myaudio.play() : myaudio.pause();\r\n        var icon = document.getElementById('icon');\r\n        myaudio.paused ? icon.className = \"wrap_box music move pause\" : icon.className = \"wrap_box  music move play\";\r\n\r\n    }\r\n    getLrcTime = function (i) {\r\n        // 获取歌词里的每句的时间\r\n        var lrcTime = this.state.this.state.lrc[i].substr(1, 8);//\"01:15.80\"\r\n        // 分钟转数字可以去掉前面的0\r\n        lrcTimeMin = parseInt(lrcTime.split(\":\")[0]);//1\r\n        // 虽然末尾有0，不过要转成数字比大小\r\n        lrcTimeSec = parseFloat(lrcTime.split(\":\")[1]);//15.8\r\n        lrcTime = lrcTimeMin * 60 + lrcTimeSec;\r\n        // console.log(lrcTimeMin);\r\n        // console.log(lrcTimeSec);\r\n        // console.log(lrcTime);\r\n        return lrcTime;\r\n    };\r\n    controlAudio = (type, value) => {\r\n        // const { id, src } = this.props\r\n        const audio = document.getElementById(`myaudio`)\r\n        const textbox = document.getElementById('textbox');\r\n        var timer = null;\r\n        switch (type) {\r\n            case 'allTime':\r\n                this.setState({\r\n                    allTime: audio.duration\r\n                })\r\n                // console.log(\"GG思密达\")\r\n                break\r\n            case 'getCurrentTime':\r\n                this.setState({\r\n                    currentTime: audio.currentTime\r\n                })\r\n                if (audio.currentTime == audio.duration) {\r\n                    this.setState({\r\n                        isPlay: false\r\n                    })\r\n                }\r\n                // console.log(\"GG思密达\")\r\n                break\r\n            case 'play':\r\n                // console.log(\"play\");\r\n                // console.log(textbox, audio)\r\n                var icon = document.getElementById('icon');\r\n                icon.className = \"wrap_box music move play\";\r\n                // timer = setInterval(function () {\r\n                //     console.log(11111);\r\n                // }, 1000)\r\n                // setInterval(function () {\r\n                //     // 获取lrc.js文件中的歌词，每秒刷新一下，获取播放时间，然后跟歌词里的时间比对，如果播放时间大于歌词时间，就显示歌词。\r\n                //     var timeNow = audio.currentTime\r\n\r\n                //     for (var i = 0; i < this.state.lrc.length; i++) {\r\n                //         var lrcTime = getLrcTime(i);\r\n                //         // console.log(lrcTime);\r\n                //         var lrcWord = this.state.lrc[i].substr(10, this.state.lrc[i].length);\r\n                //         if (timeNow > lrcTime) {\r\n                //             console.log(lrcTime);\r\n                //             console.log(lrcWord);\r\n                //             this.state.lrc.splice(i, 1);//删除显示过的文本，\r\n                //             textbox.html(lrcWord);//歌词显示到文本框内\r\n                //         } else {\r\n\r\n                //         }\r\n                //     }\r\n                //     // if (!audio.paused) {\r\n                //     //     console.log(playTime.substr(0,5));\r\n                //     //     // console.log(playTime);\r\n                //     // }\r\n                // }, 1000);\r\n                break\r\n            case 'pause':\r\n                audio.pause();\r\n                var icon = document.getElementById('icon');\r\n                icon.className = \"wrap_box music move pause\";\r\n                break\r\n            case 'changeVolume':\r\n                // audio.volume = value / 100\r\n                // this.setState({\r\n                //     volume: value,\r\n                //     isMuted: !value\r\n                // })\r\n                Toast.info('不要动我音量键', 1);\r\n                break\r\n            case 'end':\r\n                // console.log('播放结束了', 1);\r\n                if (this.state.playIdindex < Homes.searchIdList.length - 1) {\r\n                    this.setState({\r\n                        playIdindex: this.state.playIdindex + 1\r\n                    })\r\n                    setTimeout(() => {\r\n                        var id = Homes.searchIdList[this.state.playIdindex]\r\n                        // console.log(id,this.state.playIdindex);\r\n                        axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                            // console.log(res.data.songs[0]);\r\n                            if (res.data.songs[0]) {\r\n                                this.setState({\r\n                                    songsDetail: res.data.songs[0],\r\n                                    picUrl: res.data.songs[0].al.picUrl,\r\n                                })\r\n                            }\r\n                        })\r\n        \r\n                        axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                            this.setState({\r\n                                url: res.data.data[0].url,\r\n                            })\r\n                        })\r\n                    }, 1000)\r\n                } else {\r\n                    this.setState({\r\n                        playIdindex: 0\r\n                    })\r\n                    setTimeout(() => {\r\n                        var id = Homes.searchIdList[this.state.playIdindex]\r\n                        // console.log(id,this.state.playIdindex);\r\n                        axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                            // console.log(res.data.songs[0]);\r\n                            if (res.data.songs[0]) {\r\n                                this.setState({\r\n                                    songsDetail: res.data.songs[0],\r\n                                    picUrl: res.data.songs[0].al.picUrl,\r\n                                })\r\n                            }\r\n                        })\r\n                        axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                            this.setState({\r\n                                url: res.data.data[0].url,\r\n                            })\r\n                        })\r\n                    }, 1000)\r\n                }\r\n                break\r\n\r\n        }\r\n    }\r\n    playNext = () => {\r\n        // console.log(Homes.searchIdList.length)\r\n        if (this.state.playIdindex < Homes.searchIdList.length - 1) {\r\n            this.setState({\r\n                playIdindex: this.state.playIdindex + 1\r\n            })\r\n            setTimeout(() => {\r\n                var id = Homes.searchIdList[this.state.playIdindex]\r\n                // console.log(id,this.state.playIdindex);\r\n                axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                    // console.log(res.data.songs[0]);\r\n                    if (res.data.songs[0]) {\r\n                        this.setState({\r\n                            songsDetail: res.data.songs[0],\r\n                            picUrl: res.data.songs[0].al.picUrl,\r\n                        })\r\n                    }\r\n                })\r\n\r\n                axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                    this.setState({\r\n                        url: res.data.data[0].url,\r\n                    })\r\n                })\r\n            }, 1000)\r\n        } else {\r\n            this.setState({\r\n                playIdindex: 0\r\n            })\r\n            setTimeout(() => {\r\n                var id = Homes.searchIdList[this.state.playIdindex]\r\n                // console.log(id,this.state.playIdindex);\r\n                axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                    // console.log(res.data.songs[0]);\r\n                    if (res.data.songs[0]) {\r\n                        this.setState({\r\n                            songsDetail: res.data.songs[0],\r\n                            picUrl: res.data.songs[0].al.picUrl,\r\n                        })\r\n                    }\r\n                })\r\n                axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                    this.setState({\r\n                        url: res.data.data[0].url,\r\n                    })\r\n                })\r\n            }, 1000)\r\n        }\r\n    }\r\n    playBefore = () => {\r\n        if (this.state.playIdindex > 0) {\r\n            this.setState({\r\n                playIdindex: this.state.playIdindex - 1\r\n            })\r\n            setTimeout(() => {\r\n                var id = Homes.searchIdList[this.state.playIdindex]\r\n                // console.log(id,this.state.playIdindex);\r\n                axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                    // console.log(res.data.songs[0]);\r\n                    if (res.data.songs[0]) {\r\n                        this.setState({\r\n                            songsDetail: res.data.songs[0],\r\n                            picUrl: res.data.songs[0].al.picUrl,\r\n                        })\r\n                    }\r\n                })\r\n\r\n                axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                    this.setState({\r\n                        url: res.data.data[0].url,\r\n                    })\r\n                })\r\n            }, 1000)\r\n        } else {\r\n            this.setState({\r\n                playIdindex: Homes.searchIdList.length - 1\r\n            })\r\n            setTimeout(() => {\r\n                var id = Homes.searchIdList[this.state.playIdindex]\r\n                // console.log(id,this.state.playIdindex);\r\n                axios.get(`http://47.101.151.137:3000/song/detail?ids=${id}`).then(res => {\r\n                    // console.log(res.data.songs[0]);\r\n                    if (res.data.songs[0]) {\r\n                        this.setState({\r\n                            songsDetail: res.data.songs[0],\r\n                            picUrl: res.data.songs[0].al.picUrl,\r\n                        })\r\n                    }\r\n                })\r\n\r\n                axios.get(`http://47.101.151.137:3000/song/url?id=${id}`).then(res => {\r\n                    this.setState({\r\n                        url: res.data.data[0].url,\r\n                    })\r\n                })\r\n            }, 1000)\r\n        }\r\n    }\r\n    addLike = () => {\r\n        Toast.success('已添加到我喜欢', 1);\r\n    }\r\n    render() {\r\n        const {\r\n            songsDetail,\r\n            url,\r\n            picUrl\r\n        } = this.state\r\n\r\n        const {\r\n            history,\r\n            location,\r\n            match\r\n        } = this.props;\r\n        const {\r\n            searchIdList\r\n        } = Homes\r\n        return (\r\n            <div style={{ width: '100%', height: '100%', position: 'relative' }}>\r\n                <div className=\"wraps\" style={{ background: `url(${picUrl}) no-repeat` }}>\r\n                </div>\r\n                <Head title={songsDetail.name} show={true}></Head>\r\n                <audio\r\n                    onCanPlay={() => this.controlAudio('allTime')}\r\n                    onTimeUpdate={(e) => this.controlAudio('getCurrentTime')}\r\n                    onPlay={() => this.controlAudio('play')}\r\n                    onPause={() => this.controlAudio('pause')}\r\n                    onEnded={() => this.controlAudio('end')}\r\n                    onVolumeChange={() => this.controlAudio('changeVolume')}\r\n                    src={url} autoPlay ref={el => this.audio = el} id=\"myaudio\"  controls>浏览器不支持 audio  音频播放</audio>\r\n                {/* <ReactPlayer url={url} playing id=\"myaudio\" controls={true}\r\n                style={{width:'200px',height:'40px'}}\r\n                /> */}\r\n                <div style={{}}>\r\n                    <img src={picUrl} alt=\"\" className=\"wrap_box  music move\" onClick={this.toggle} id=\"icon\" />\r\n                </div>\r\n                <div className=\"UserCon\">\r\n                    <div onClick={() => this.playBefore()}>上一首</div>\r\n                    <div onClick={() => this.addLike()}>喜欢</div>\r\n                    <div onClick={() => this.playNext()}>下一首</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Search","\r\n\r\nimport React ,{Component} from \"react\"\r\nimport {Switch,Route,Redirect} from \"react-router-dom\"\r\nimport { Guide } from \"./guide\"\r\nimport { Main } from \"./main\"\r\nimport { Login } from \"./login\"\r\nimport PropTypes from \"prop-types\"\r\nimport  Search  from \"./play\"\r\n\r\n\r\nexport class Layout extends Component{\r\n    getChildContext(){\r\n        return{\r\n            history:this.props.history\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <Switch>\r\n                <Route path=\"/\" exact render={()=>(<Redirect to=\"/guide\" />)}/>\r\n                <Route path=\"/guide\" component={Guide}/>\r\n                <Route path=\"/main\" component={Main}/>\r\n                <Route path=\"/login\" component={Login}/>\r\n                <Route path=\"/play\" component={Search}/>\r\n                <Route render={()=>(<Redirect to=\"/main/home\" />)}/>\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nLayout.childContextTypes={\r\n    history:PropTypes.object\r\n}","\r\n\r\n\r\n\r\nimport {HashRouter,Route} from \"react-router-dom\"\r\nimport React,{Component} from \"react\"\r\nimport { Layout } from \"./views\"\r\n\r\nexport class MainRouter extends Component{\r\n    render(){\r\n        return(\r\n            <HashRouter\r\n            basename=''\r\n            >\r\n                {/* <Layout></Layout> */}\r\n                <Route component={Layout}/>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport './App.css';\nimport { MainRouter } from './scripts';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MainRouter>\n        \n      </MainRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nimport \"./styles/index.scss\";\n\n\nReactDOM.render(<App />, document.getElementById('root'));//渲染DOM\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}